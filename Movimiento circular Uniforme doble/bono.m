clc;
clear all;

%%-------------------------------------------------
desfase1=180;
frecuencia1=10;
amplitud1=20;

%%-------------------------------------------------
desfase2=180;
frecuencia2=20;
amplitud2=10;

%%-------------------------------------------------
tmax=1000;

%%-------------------------------------------------
k=1;
k2=1;

%%-------------------------------------------------
px1=[];
py1=[];
nx1=0;
ny1=0;

%%-------------------------------------------------
px2=[];
py2=[];
nx2=0;
ny2=0;

%--------------------------------------------------
for i=1:tmax 
    t=0.1*i;
    %%---------------------------------------------
    posx1=amplitud1*cosd(frecuencia1*t+desfase1);
    posy1=k*sqrt((amplitud1^2)-(posx1^2));
    
    P1=[0 0];
    P2=[posx1 posy1];
    
    %%---------------------------------------------
        px1(nx1+1)=posx1;
        py1(ny1+1)=posy1;
        nx1=nx1+1;
        ny1=ny1+1;
        
    %%---------------------------------------------
    posx2=[amplitud2*cosd(frecuencia2*t+desfase2)]
    posy2=[k2*sqrt((amplitud2^2)-(posx2^2))]
   
    P3=[posx2+posx1 posy2+posy1];
    
    %%---------------------------------------------
        px2(nx2+1)=posx2+posx1;
        py2(ny2+1)=posy2+posy1;
        nx2=nx2+1;
        ny2=ny2+1;
    %%---------------------------------------------
    plot(0,0,'o',px1',py1','o',px2',py2','o',[P1(1) P2(1)],[P1(2) P2(2)],'b',[P2(1) P3(1)],[P2(2) P3(2)],'r')
    axis([-1*(amplitud1+amplitud2) (amplitud1+amplitud2) -1*(amplitud1+amplitud2) (amplitud1+amplitud2)]);
    
    %%---------------------------------------------
    M(i) = getframe;
    
    %%---------------------------------------------
    if (posx1==amplitud1 || posx1==(-1)*amplitud1)
        k=k*-1;
    end
    if posx2==amplitud2 || posx2==(-1)*amplitud2
        k2=k2*-1;
    end
    %%---------------------------------------------
end
movie(M)
disp('ejecucion terminada');